<!DOCTYPE html>
<head>
</head>
<body onload="">
<canvas id="canvas"></canvas>
<script type="text/javascript">
var canvas = document.getElementById('canvas');
var c = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

var randomColor = "rgba(" + Math.floor(Math.random() * 256)+","+Math.floor(Math.random() * 256)+","+Math.floor(Math.random() * 256)+",0.8)";

var circleArray = [];


for(let i=1; i<1000; i++){
  var x = 500;
  var y = 500;
  var radius = Math.floor(Math.random() * 256);
  (function(i){
    setTimeout(function(){
      console.log(i);
        circleArray.push(new Circle(this.x, this.y, this.radius));

        i++;
    }, 60000/140 * i);
})(i);
}

var circle = new Circle(x, y, radius, randomColor);

animate();


function Circle(x, y, radius){
  this.x = x;
  this.y = y;
  this.radius = 55;
  this.randomStroke = "rgba(" + Math.floor(Math.random() * 256) + "," + Math.floor(Math.random() * 256) + "," + Math.floor(Math.random() * 256) + ",0.8)";;
  this.randomFill = "rgba(" + Math.floor(Math.random() * 256) + "," + Math.floor(Math.random() * 256) + "," + Math.floor(Math.random() * 256) + ",0.8)";;

  this.draw = function() {
    c.beginPath();
    c.arc(this.x, this.y, this.radius, Math.PI * 2, false);
    c.strokeStyle =  this.randomStroke;
    c.fillStyle = this.randomFill;
    c.lineWidth = 15;
    c.stroke();
    c.fill();
    this.update();
    //console.log(this.x);
    //console.log(this.y);
    //console.log(radius);
  }

  this.update = function(){
    if (this.radius > 1500){
      cancelAnimationFrame(animate);
    }
    this.radius+=10;
  }

}

function animate(){
  requestAnimationFrame(animate);
  c.clearRect(0, 0, innerWidth, innerHeight);
  for (let i=0; i<circleArray.length; i++){
    circleArray[i].draw();
    console.log("drawn");


  }

}

//for(let x = 0; x < 5; x++){
//  (function(x){
//    setTimeout(function(){ console.log(x); },1000 * x);
//  })(x);
//}

</script>
</body>
</html>
